<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>LeafByte Dashboard</title>
  <link rel="stylesheet" href="popup.css">
  <link href="https://fonts.googleapis.com/css2?family=Bungee&display=swap" rel="stylesheet">
  <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
  <script src="chart.min.js"></script>
  <style>
    body {
      font-family: 'Bungee', sans-serif;
    }
    .material-icons {
      vertical-align: middle;
    }
  </style>
</head>
<body>
  <div class="dashboard">
    <!-- Header -->
    <header class="dashboard-header">
      <div class="logo">
        <span class="logo-icon">
          <img src="https://raw.githubusercontent.com/la-b-ib/LeafByte/main/icons/farmer.png" alt="LeafByte Logo" width="50" height="50">
        </span>

        <h1>LeafByte</h1>
        
      </div>
      <div class="current-emissions">
        <span class="current-value" id="currentEmissions">0.0</span>
        <span class="current-unit">g CO₂e</span>
      </div>
    </header>

    <!-- Navigation Tabs -->
    <nav class="tab-navigation">
      <button class="tab-btn active" data-tab="overview">Overview</button>
      <button class="tab-btn" data-tab="sites">Sites</button>
      <button class="tab-btn" data-tab="trends">Trends</button>
      <button class="tab-btn" data-tab="goals">Goals</button>
    </nav>

    <!-- Overview Tab -->
    <div class="tab-content active" id="overview">
      <!-- Quick Stats -->
      <section class="quick-stats">
        <div class="stat-card">
          <div class="stat-icon"><span class="material-icons">bar_chart</span></div>
          <div class="stat-info">
            <span class="stat-value" id="todayEmissions">0.0g</span>
            <span class="stat-label">Today</span>
          </div>
        </div>
        <div class="stat-card">
          <div class="stat-icon"><span class="material-icons">show_chart</span></div>
          <div class="stat-info">
            <span class="stat-value" id="weekEmissions">0.0g</span>
            <span class="stat-label">This Week</span>
          </div>
        </div>
        <div class="stat-card">
          <div class="stat-icon"><span class="material-icons">emoji_events</span></div>
          <div class="stat-info">
            <span class="stat-value" id="userLevel">1</span>
            <span class="stat-label">Level</span>
          </div>
        </div>
      </section>

      <!-- Current Page Analysis -->
      <section class="current-page">
        <h3>Current Page Analysis</h3>
        <div class="page-info">
          <div class="page-url" id="currentPageUrl">Loading...</div>
          <div class="page-emissions">
            <span class="page-co2" id="pageEmissions">0.0g CO₂e</span>
            <span class="page-status" id="pageStatus">Low Impact</span>
          </div>
        </div>
        <div class="resource-breakdown">
          <canvas id="resourceChart" width="300" height="200"></canvas>
        </div>
      </section>

      <!-- Eco Tips -->
      <section class="eco-tips">
        <h3><span class="material-icons">lightbulb</span> Eco Tips</h3>
        <div class="tip-container" id="ecoTips">
          <div class="tip-item">Loading tips...</div>
        </div>
      </section>
    </div>

    <!-- Sites Tab -->
    <div class="tab-content" id="sites">
      <section class="sites-overview">
        <h3>Site Emissions</h3>
        <div class="filter-controls">
          <select id="siteFilter">
            <option value="all">All Sites</option>
            <option value="high">High Emission (>1g)</option>
            <option value="medium">Medium Emission (0.5-1g)</option>
            <option value="low">Low Emission (<0.5g)</option>
          </select>
          <select id="timeFilter">
            <option value="week">Last Week</option>
            <option value="month">Last Month</option>
            <option value="all">All Time</option>
          </select>
        </div>
        <div class="sites-list" id="sitesList">
          <!-- Sites will be populated by JavaScript -->
        </div>
      </section>
    </div>

    <!-- Trends Tab -->
    <div class="tab-content" id="trends">
      <section class="trends-overview">
        <h3>Emission Trends</h3>
        <div class="chart-container">
          <canvas id="trendsChart" width="350" height="200"></canvas>
        </div>
        <div class="trend-stats">
          <div class="trend-item">
            <span class="trend-label">7-day average:</span>
            <span class="trend-value" id="weeklyAverage">0.0g</span>
          </div>
          <div class="trend-item">
            <span class="trend-label">Best day:</span>
            <span class="trend-value" id="bestDay">0.0g</span>
          </div>
          <div class="trend-item">
            <span class="trend-label">Total saved:</span>
            <span class="trend-value" id="totalSaved">0.0g</span>
          </div>
        </div>
      </section>
    </div>

    <!-- Goals Tab -->
    <div class="tab-content" id="goals">
      <section class="goals-overview">
        <h3>Your Goals</h3>
        
        <!-- Daily Goal -->
        <div class="goal-card">
          <div class="goal-header">
            <span class="goal-title">Daily Goal</span>
            <span class="goal-target" id="dailyGoalTarget">20g CO₂e</span>
          </div>
          <div class="progress-bar">
            <div class="progress-fill" id="dailyProgress"></div>
          </div>
          <div class="goal-status" id="dailyGoalStatus">On track</div>
        </div>

        <!-- Weekly Goal -->
        <div class="goal-card">
          <div class="goal-header">
            <span class="goal-title">Weekly Goal</span>
            <span class="goal-target" id="weeklyGoalTarget">140g CO₂e</span>
          </div>
          <div class="progress-bar">
            <div class="progress-fill" id="weeklyProgress"></div>
          </div>
          <div class="goal-status" id="weeklyGoalStatus">On track</div>
        </div>

        <!-- Gamification -->
        <div class="gamification">
          <h4><span class="material-icons">military_tech</span> Achievements</h4>
          <div class="level-info">
            <span class="level-text">Level <span id="currentLevel">1</span></span>
            <span class="points-text"><span id="currentPoints">0</span> points</span>
          </div>
          <div class="progress-bar">
            <div class="progress-fill" id="levelProgress"></div>
          </div>
          <div class="badges" id="badgesList">
            <!-- Badges will be populated by JavaScript -->
          </div>
        </div>
      </section>
    </div>

    <!-- Footer Actions -->
    <footer class="dashboard-footer">
      <div class="action-buttons">
        <button class="btn btn-secondary" id="exportBtn"><span class="material-icons">bar_chart</span> Export Data</button>
        <button class="btn btn-secondary" id="settingsBtn"><span class="material-icons">settings</span> Settings</button>
        <button class="btn btn-primary" id="refreshBtn"><span class="material-icons">refresh</span> Refresh</button>
      </div>
    </footer>
  </div>

  <script src="popup.js"></script>
</body>
</html>
